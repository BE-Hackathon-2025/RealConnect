<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Real Connect – Community Wall</title>

  <!-- Site-wide styles first, page-specific overrides second -->
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="community.css" />
</head>
<body class="page-community">
  <!-- NAVBAR (styled by styles.css) -->
  <nav class="navbar">
    <div class="navbar-logo">The Real Connect</div>
    <ul class="navbar-links">
      <li><a href="index.html">Home</a></li>
      <li><a href="wellness.html">Wellness</a></li>
      <li><a href="essentials.html">Essentials</a></li>
      <li><a href="work.html">Work & Growth</a></li>
      <li><a href="legal.html">Legal & Rights</a></li>
      <li><a href="learn.html">Learn & Level Up</a></li>
      <li><a href="community.html" class="active">Community Wall</a></li>
    </ul>
  </nav>

  <!-- HERO -->
  <header class="hero">
    <div class="hero-text">
      <h1>Community Wall</h1>
      <p>Ask for help, offer help, share wins, and post local meetups. Your voice = community power.</p>
      <a href="index.html" class="back-link">← Back to Home</a>
    </div>
    <div class="hero-bubble" aria-hidden="true"></div>
  </header>

  <!-- CONTROLS -->
  <section class="controls container">
    <div class="filters" role="tablist" aria-label="Filter posts">
      <button class="chip active" data-filter="all" role="tab" aria-selected="true">All</button>
      <button class="chip" data-filter="events" role="tab" aria-selected="false">Events</button>
      <button class="chip" data-filter="message" role="tab" aria-selected="false">Messages</button>
      <button class="chip" data-filter="mutual" role="tab" aria-selected="false">Mutual Aid</button>
    </div>
    <div class="controls-right">
      <button id="openSettings" class="ghost-btn" type="button" aria-haspopup="dialog" aria-controls="settingsModal">
        Private Name
      </button>
    </div>
  </section>

  <!-- LAYOUT -->
  <main class="container layout" aria-labelledby="startPostHeading">
    <!-- Composer -->
    <aside class="composer" aria-label="Create a post">
      <h2 id="startPostHeading">Start a post</h2>
      <form id="composerForm" autocomplete="off">
        <label class="stack">
          <span class="label">Category</span>
          <select id="postCategory" required>
            <option value="message">Message</option>
            <option value="events">Event / Meetup</option>
            <option value="mutual">Volunteer / Mutual Aid</option>
          </select>
        </label>

        <label class="stack">
          <span class="label">Your name</span>
          <input id="postName" type="text" maxlength="40" placeholder="Enter your name" required>
        </label>

        <label class="row">
          <input id="usePrivateName" type="checkbox" />
          <span>Use my saved private name instead</span>
        </label>

        <label class="stack">
          <span class="label">Your message</span>
          <textarea id="postText" rows="4" maxlength="800" placeholder="Keep it kind, useful, and specific…" required></textarea>
          <div class="hint"><span id="charCount">0</span>/800</div>
        </label>

        <label class="stack">
          <span class="label">Optional link</span>
          <input id="postLink" type="url" inputmode="url" placeholder="https://example.com">
        </label>

        <button class="primary" id="postBtn" type="submit" disabled>Post to Wall</button>
        <p class="small muted">Your private name is stored only on your device unless you choose to display it.</p>
      </form>
    </aside>

    <!-- Feed -->
    <section class="feed" id="feed" aria-live="polite">
      <!-- posts render here -->
    </section>
  </main>

  <!-- SETTINGS MODAL -->
  <div class="modal-backdrop" id="settingsBackdrop" hidden></div>
  <dialog class="modal" id="settingsModal" aria-labelledby="settingsTitle">
    <form method="dialog" class="modal-body" id="settingsForm">
      <h3 id="settingsTitle">Private Name</h3>
      <p class="muted">This name is saved locally in your browser. It won’t be uploaded or shared unless you choose to display it on a post.</p>
      <label class="stack">
        <span class="label">Your private name</span>
        <input id="privateNameInput" type="text" maxlength="40" placeholder="ex. Cam • student • west end">
      </label>
      <menu class="modal-actions">
        <button value="cancel" class="ghost-btn" id="closeSettings">Close</button>
        <button id="savePrivateName" value="default" class="primary">Save</button>
      </menu>
    </form>
  </dialog>

  <!-- FOOTER -->
  <footer class="footer">
    <span>© 2025 The Real Connect. Wellness & Community for all.</span>
  </footer>

  <!-- Page script -->
  <script src="community.js" defer></script>
</body>
</html>
